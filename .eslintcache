[{"/home/alec/swap-share/src/index.js":"1","/home/alec/swap-share/src/App.js":"2","/home/alec/swap-share/src/reportWebVitals.js":"3","/home/alec/swap-share/src/components/WalletButton.js":"4","/home/alec/swap-share/src/hooks/useWeb3Modal.js":"5","/home/alec/swap-share/src/components/index.js":"6","/home/alec/swap-share/src/components/BorrowRequest.js":"7","/home/alec/swap-share/src/components/SwapShare.js":"8","/home/alec/swap-share/src/Constants.js":"9","/home/alec/swap-share/src/components/OpenLoans.js":"10","/home/alec/swap-share/src/components/SplashPage.js":"11","/home/alec/swap-share/src/components/LoanCard.js":"12"},{"size":562,"mtime":1609975963215,"results":"13","hashOfConfig":"14"},{"size":3995,"mtime":1609992874319,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":1608155728010,"results":"16","hashOfConfig":"14"},{"size":402,"mtime":1608235219011,"results":"17","hashOfConfig":"14"},{"size":1552,"mtime":1609992311231,"results":"18","hashOfConfig":"14"},{"size":1542,"mtime":1609992252930,"results":"19","hashOfConfig":"14"},{"size":4270,"mtime":1609990477775,"results":"20","hashOfConfig":"14"},{"size":6674,"mtime":1609977912567,"results":"21","hashOfConfig":"14"},{"size":128,"mtime":1609622169288,"results":"22","hashOfConfig":"14"},{"size":2682,"mtime":1609974041913,"results":"23","hashOfConfig":"14"},{"size":370,"mtime":1609973857836,"results":"24","hashOfConfig":"14"},{"size":1988,"mtime":1609982150081,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1yv57jw",{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"28"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/home/alec/swap-share/src/index.js",[],["53","54"],"/home/alec/swap-share/src/App.js",["55"],"/home/alec/swap-share/src/reportWebVitals.js",[],"/home/alec/swap-share/src/components/WalletButton.js",[],"/home/alec/swap-share/src/hooks/useWeb3Modal.js",["56"],"/home/alec/swap-share/src/components/index.js",[],"/home/alec/swap-share/src/components/BorrowRequest.js",[],"/home/alec/swap-share/src/components/SwapShare.js",["57","58","59","60","61","62","63","64","65"],"import React, { useEffect, useState } from 'react'\n\nimport { Container, Title } from './index'\nimport BorrowRequest from './BorrowRequest'\nimport LoanCard from './LoanCard'\nimport { LOAN_STATE } from '../Constants'\n\nimport Button from 'react-bootstrap/Button'\nimport Col from 'react-bootstrap/Col'\n\n\nconst SwapShare = ({web3, account, swapShareContract, DAIContract}) => {\n  const [fulfilledLoans, setFulfilledLoans] = useState(null)\n  const [borrowTransactions, setBorrowTransactions] = useState(null)\n  const [updateRequests, setUpdateRequests] = useState(true)\n\n  useEffect(() => {\n    if (updateRequests) {\n      getAddressBorrows()\n      getAddressFulfilledLoans()\n      setUpdateRequests(false)\n    }\n  }, [updateRequests])\n\n  useEffect(() => {\n    if (borrowTransactions && borrowTransactions.length == 0) {\n      setBorrowTransactions(null)\n    }\n  }, [borrowTransactions])\n\n  useEffect(() => {\n    if (fulfilledLoans && fulfilledLoans.length == 0) {\n      setFulfilledLoans(null)\n    }\n  }, [fulfilledLoans])\n\n  function getAddressBorrows() {\n    swapShareContract.methods\n      .getAddressBorrows(account)\n      .call()\n      .then(result => {\n        let transactions = [];\n        result.map(value => {\n          if (value['valid']) {\n            const expiration = new Date(parseInt(value['expiration']) * 1000)\n            const now = new Date()\n\n            transactions.push({\n              'index': value['index'],\n              'expirationDate': expiration.toDateString(),\n              'expirationTime': expiration.toLocaleTimeString(),\n              'daiAmount': web3.utils.fromWei(value['daiAmount'], 'ether'),\n              'ethAmount': web3.utils.fromWei(value['ethAmount'], 'ether'),\n              'ethPlusInterest': web3.utils.fromWei(value['ethPlusInterest'], 'ether'),\n              'interestRate': value['interestRate'],\n              'state': value['state'],\n              'hasExpired': expiration < now\n            })\n          }\n        })\n        setBorrowTransactions(transactions)\n      })\n  }\n\n  function getAddressFulfilledLoans() {\n    swapShareContract.methods\n      .getAddressFulfilled(account)\n      .call()\n      .then(result => {\n        let transactions = [];\n        result.map(value => {\n          if (value['valid']) {\n            const expiration = new Date(parseInt(value['expiration']) * 1000)\n            const now = new Date()\n\n            transactions.push({\n              'index': value['index'],\n              'expirationDate': expiration.toDateString(),\n              'expirationTime': expiration.toLocaleTimeString(),\n              'daiAmount': web3.utils.fromWei(value['daiAmount'], 'ether'),\n              'ethAmount': web3.utils.fromWei(value['ethAmount'], 'ether'),\n              'ethPlusInterest': web3.utils.fromWei(value['ethPlusInterest'], 'ether'),\n              'interestRate': value['interestRate'],\n              'state': value['state'],\n              'hasExpired': expiration < now\n            })\n          }\n        })\n        setFulfilledLoans(transactions)\n      })\n  }\n\n\n  const cancelBorrowRequest = (index) => () => {\n    swapShareContract.methods\n        .cancelRequestedLoan(index)\n        .send({from: account})\n        .then(() => getAddressBorrows())\n  }  \n\n\n  const payBackLoan = (index, amount)  => () => {\n    const ethAmount = web3.utils.toWei(amount, 'ether').toString()\n\n    swapShareContract.methods\n      .repayLoan(index)\n      .send({\n        from: account,\n        value: ethAmount\n      })\n      .then(() => getAddressBorrows())\n  }\n\n  const claimCollateral = (index) => () => {\n    swapShareContract.methods\n      .claimDefaultedLoan(index)\n      .send({\n        from: account\n      })\n      .then(() => getAddressFulfilledLoans())\n  }\n\n  return (\n    <Container>\n      <div style={{display: 'flex', backgroundColor: '#282c34', justifyContent: 'space-between'}}>\n        <Col className=\"mx-4\" md={3}>\n          <Title className=\"mb-4\">Loans You have Fulfilled</Title>\n          {fulfilledLoans\n            ? <div>\n                {fulfilledLoans.map((value, index) => (\n                  <LoanCard data={value} index={index}>\n                    <Button \n                        variant={value.hasExpired ? 'success' : 'secondary'} \n                        disabled={!value.hasExpired}\n                        onClick={claimCollateral(value.index)}\n                    >\n                      {value.hasExpired ? 'claim collateral' : 'active'}\n                    </Button>   \n                  </LoanCard>\n                ))}\n              </div>\n            : <div style={{height: '10rem', display: 'flex', justifyContent: 'center', alignItems: 'center', color: '#6c757d'}}>Nothing to display</div>\n          }\n        </Col>\n\n        <Col className=\"mx-4\" md={3}>\n          <BorrowRequest \n            account={account} \n            swapShareContract={swapShareContract} \n            daiContract={DAIContract} \n            setUpdateRequests={setUpdateRequests} \n          />\n        </Col>\n\n        <Col className=\"mx-4\" md={3}>\n          <Title className=\"mb-4\">Borrow Requests</Title>\n          {borrowTransactions\n            ? <div>\n                {borrowTransactions.map((value, index) => (\n                  <LoanCard data={value} index={index}>\n                    <div>\n                        {!value.hasExpired && \n                          <Button \n                            variant={value.state == LOAN_STATE.requested ? 'danger' : 'success'} \n                            disabled={value.state == LOAN_STATE.fulfilled}\n                            onClick={cancelBorrowRequest(value.index)}\n                          >\n                            {value.state == LOAN_STATE.requested ? 'cancel request' : 'active'}\n                          </Button>\n                        }\n                        {value.state == LOAN_STATE.fulfilled &&\n                          <Button \n                            variant={value.hasExpired ? \"danger\" : \"primary\"} \n                            className=\"ml-2\"\n                            disabled={value.hasExpired}\n                            onClick={payBackLoan(value.index, value.ethPlusInterest)}\n                          >\n                            {value.hasExpired ? 'Loan has Defaulted' : 'Pay back loan'}\n                          </Button>\n                        }\n                      </div>\n                  </LoanCard>\n                ))}\n              </div>\n            : <div style={{height: '10rem', display: 'flex', justifyContent: 'center', alignItems: 'center', color: '#6c757d'}}>Nothing to display</div>\n          }\n        </Col>\n      </div>\n    </Container>\n  );\n}\n\nexport default SwapShare\n","/home/alec/swap-share/src/Constants.js",[],"/home/alec/swap-share/src/components/OpenLoans.js",["66","67"],"import React, { useEffect, useState } from 'react'\n\nimport { Container, Title } from './index'\nimport LoanCard from './LoanCard'\n\nimport Button from 'react-bootstrap/Button'\nimport Col from 'react-bootstrap/Col'\n\nconst OpenLoans = ({ web3, account, swapShareContract }) => {\n    const [openLoans, setOpenLoans] = useState(null)\n\n    useEffect(() => {\n        getAllOpenLoans()\n    }, [])\n\n    useEffect(() => {\n        if (openLoans && openLoans.length === 0) {\n            setOpenLoans(null)\n        }\n    }, [openLoans])\n\n    const getAllOpenLoans = () => {\n        swapShareContract.methods\n          .getAllRequests(account)\n          .call()\n          .then(result => {\n            let transactions = [];\n            result.map(value => {\n              if (value['valid']) {\n                const expiration = new Date(parseInt(value['expiration']) * 1000)\n                \n                transactions.push({\n                  'index': value['index'],\n                  'expirationDate': expiration.toDateString(),\n                  'expirationTime': expiration.toLocaleTimeString(),\n                  'daiAmount': web3.utils.fromWei(value['daiAmount'], 'ether'),\n                  'ethAmount': web3.utils.fromWei(value['ethAmount'], 'ether'),\n                  'ethPlusInterest': web3.utils.fromWei(value['ethPlusInterest'], 'ether'),\n                  'interestRate': value['interestRate'],\n                  'state': value['state']\n                })\n              }\n            })\n            setOpenLoans(transactions)\n          })\n      }\n\n      const fulfillLoan = (index, amount) => () => {\n        const ethAmount = web3.utils.toWei(amount, 'ether').toString()\n    \n        swapShareContract.methods\n          .fulfillLoan(index)\n          .send({\n            from: account,\n            value: ethAmount\n          })\n          .then(() => getAllOpenLoans())\n      }\n\n    return (\n      <Container>\n        <Col className=\"mx-auto\" md={4}>\n          <Title className=\"mb-4\">Open Loan Requests</Title>\n          {openLoans\n            ? <div>\n                {openLoans.map((value, index) => (\n                  <LoanCard data={value} index={index}>\n                    <Button variant='success' onClick={fulfillLoan(value.index, value.ethAmount)}>\n                        fulfill loan\n                    </Button>\n                  </LoanCard>\n                ))}\n                </div>\n            : <div style={{height: '10rem', display: 'flex', justifyContent: 'center', alignItems: 'center', color: '#6c757d'}}>\n                No loans to display at this time\n              </div>\n          }\n        </Col>\n      </Container>\n    )\n  }\n\nexport default OpenLoans","/home/alec/swap-share/src/components/SplashPage.js",[],"/home/alec/swap-share/src/components/LoanCard.js",[],{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":71,"column":6,"nodeType":"74","endLine":71,"endColumn":12,"suggestions":"75"},{"ruleId":"72","severity":1,"message":"76","line":30,"column":6,"nodeType":"74","endLine":30,"endColumn":8,"suggestions":"77"},{"ruleId":"72","severity":1,"message":"78","line":23,"column":6,"nodeType":"74","endLine":23,"endColumn":22,"suggestions":"79"},{"ruleId":"80","severity":1,"message":"81","line":26,"column":57,"nodeType":"82","messageId":"83","endLine":26,"endColumn":59},{"ruleId":"80","severity":1,"message":"81","line":32,"column":49,"nodeType":"82","messageId":"83","endLine":32,"endColumn":51},{"ruleId":"84","severity":1,"message":"85","line":43,"column":26,"nodeType":"86","messageId":"87","endLine":43,"endColumn":28},{"ruleId":"84","severity":1,"message":"85","line":71,"column":26,"nodeType":"86","messageId":"87","endLine":71,"endColumn":28},{"ruleId":"80","severity":1,"message":"81","line":164,"column":50,"nodeType":"82","messageId":"83","endLine":164,"endColumn":52},{"ruleId":"80","severity":1,"message":"81","line":165,"column":51,"nodeType":"82","messageId":"83","endLine":165,"endColumn":53},{"ruleId":"80","severity":1,"message":"81","line":168,"column":42,"nodeType":"82","messageId":"83","endLine":168,"endColumn":44},{"ruleId":"80","severity":1,"message":"81","line":171,"column":38,"nodeType":"82","messageId":"83","endLine":171,"endColumn":40},{"ruleId":"72","severity":1,"message":"88","line":14,"column":8,"nodeType":"74","endLine":14,"endColumn":10,"suggestions":"89"},{"ruleId":"84","severity":1,"message":"85","line":28,"column":30,"nodeType":"86","messageId":"87","endLine":28,"endColumn":32},"no-native-reassign",["90"],"no-negated-in-lhs",["91"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'networkID'. Either include it or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setSwapShareContract' needs the current value of 'networkID'.","ArrayExpression",["92"],"React Hook useEffect has missing dependencies: 'NETWORK' and 'infuraId'. Either include them or remove the dependency array.",["93"],"React Hook useEffect has missing dependencies: 'getAddressBorrows' and 'getAddressFulfilledLoans'. Either include them or remove the dependency array.",["94"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has a missing dependency: 'getAllOpenLoans'. Either include it or remove the dependency array.",["95"],"no-global-assign","no-unsafe-negation",{"desc":"96","fix":"97"},{"desc":"98","fix":"99"},{"desc":"100","fix":"101"},{"desc":"102","fix":"103"},"Update the dependencies array to be: [networkID, web3]",{"range":"104","text":"105"},"Update the dependencies array to be: [NETWORK, infuraId]",{"range":"106","text":"107"},"Update the dependencies array to be: [getAddressBorrows, getAddressFulfilledLoans, updateRequests]",{"range":"108","text":"109"},"Update the dependencies array to be: [getAllOpenLoans]",{"range":"110","text":"111"},[1907,1913],"[networkID, web3]",[850,852],"[NETWORK, infuraId]",[712,728],"[getAddressBorrows, getAddressFulfilledLoans, updateRequests]",[384,386],"[getAllOpenLoans]"]